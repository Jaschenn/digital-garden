/* ========================
   ç”Ÿäº§çº§å¸ƒå±€ä¼˜åŒ–æ ·å¼
   ======================== */

/* è®¾è®¡ç³»ç»Ÿï¼šç»Ÿä¸€çš„åœ†è§’ã€é—´è·ã€è¿‡æ¸¡ */
:root {
  /* åœ†è§’ç³»ç»Ÿï¼ˆä¸ obsidian-base ä¿æŒä¸€è‡´ï¼‰ */
  --radius-xs: 2px;
  --radius-s: 4px;
  --radius-m: 8px;
  --radius-l: 12px;
  --radius-xl: 16px;
  
  /* è¿‡æ¸¡åŠ¨ç”» */
  --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* é˜´å½±ç³»ç»Ÿ */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-base: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.16), 0 4px 8px rgba(0, 0, 0, 0.12);
}

/* 1. å¢åŠ å†…å®¹åŒºåŸŸå®½åº¦ï¼Œå……åˆ†åˆ©ç”¨å±å¹•ç©ºé—´ */
body {
  /* é»˜è®¤å€¼ï¼šæ ¹æ®å±å¹•å®½åº¦åŠ¨æ€è°ƒæ•´ */
  --dg-content-max-width: min(1200px, calc(100vw - 600px));
  
  /* ä¼˜åŒ–å­—ä½“æ¸²æŸ“ */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  
  /* å¹³æ»‘æ»šåŠ¨ */
  scroll-behavior: smooth;
}

/* åœ¨å¤§å±å¹•ä¸Šä½¿ç”¨æ›´å¤§çš„å®½åº¦ */
@media (min-width: 1600px) {
  body {
    --dg-content-max-width: 1400px;
  }
}

/* ä¸­ç­‰å±å¹• */
@media (min-width: 1400px) and (max-width: 1599px) {
  body {
    --dg-content-max-width: 1200px;
  }
}

/* å°å±å¹• */
@media (max-width: 1399px) {
  body {
    --dg-content-max-width: 900px;
  }
}

/* ç§»åŠ¨ç«¯ */
@media (max-width: 1000px) {
  body {
    --dg-content-max-width: 700px;
  }
}

/* å°å±ç§»åŠ¨ç«¯ */
@media (max-width: 800px) {
  body {
    --dg-content-max-width: calc(100vw - 40px);
  }
}

/* 2. ä¼˜åŒ–å›¾ç‰‡æ˜¾ç¤ºï¼Œç¡®ä¿å›¾ç‰‡ä¸ä¼šè¶…å‡ºå†…å®¹åŒºåŸŸ */
.content img,
.markdown-preview-view img,
.markdown-rendered img {
  max-width: 100% !important;
  width: auto !important;
  height: auto !important;
  display: block;
  margin: 2em auto;
  border-radius: var(--radius-l);
  box-shadow: var(--shadow-md);
  box-sizing: border-box;
  transition: transform var(--transition-slow), box-shadow var(--transition-slow);
  background-color: color-mix(in srgb, var(--background-secondary) 30%, transparent);
}

/* å›¾ç‰‡æ‚¬åœæ•ˆæœ */
.content img:hover,
.markdown-preview-view img:hover,
.markdown-rendered img:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* ç¡®ä¿å›¾ç‰‡å®¹å™¨ä¹Ÿä¸ä¼šè¶…å‡º */
.content figure,
.markdown-preview-view figure,
.markdown-rendered figure {
  max-width: 100%;
  margin: 2em auto;
  text-align: center;
  
  img {
    max-width: 100%;
    margin: 0;
  }
  
  figcaption {
    margin-top: 0.75em;
    font-size: 0.9em;
    color: var(--text-muted);
    font-style: italic;
  }
}

/* å†…è”å›¾ç‰‡ä¿æŒåŸæœ‰æ ·å¼ */
.content p img,
.markdown-preview-view p img,
.markdown-rendered p img {
  display: inline-block;
  margin: 0.5em 0.5em 0.5em 0;
  vertical-align: middle;
  max-width: 100%;
  border-radius: var(--radius-s);
  box-shadow: none;
  
  &:hover {
    transform: none;
  }
}

/* 3. ä¼˜åŒ–å·¦ä¾§ç›®å½•çš„ç«–çº¿æ ·å¼ */
.filelist {
  /* ä½¿ç”¨æ›´ç»†ã€æ›´æŸ”å’Œçš„ç«–çº¿ */
  border-left: 1px solid color-mix(in srgb, var(--text-muted) 15%, transparent) !important;
  margin-left: var(--dg-filelist-margin);
  transition: border-color var(--transition-slow);
  position: relative;
  
  /* æ·»åŠ å¾®å¦™çš„æ¸å˜æ•ˆæœ */
  &::before {
    content: '';
    position: absolute;
    left: -1px;
    top: 0;
    bottom: 0;
    width: 1px;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      color-mix(in srgb, var(--text-muted) 20%, transparent) 20%,
      color-mix(in srgb, var(--text-muted) 20%, transparent) 80%,
      transparent 100%
    );
    opacity: 0;
    transition: opacity var(--transition-slow);
  }
  
  &:hover::before {
    opacity: 1;
  }
}

/* æ‚¬åœæ—¶ç¨å¾®åŠ æ·±ç«–çº¿ */
.filelist:hover {
  border-left-color: color-mix(in srgb, var(--text-muted) 25%, transparent) !important;
}

/* 4. ä¼˜åŒ–å†…å®¹åŒºåŸŸçš„å†…è¾¹è·å’Œé—´è· */
.content {
  padding-left: 3rem;
  padding-right: 3rem;
  line-height: 1.75;
  letter-spacing: 0.01em;
  
  /* å¤§å±å¹•å¢åŠ æ›´å¤š padding */
  @media (min-width: 1600px) {
    padding-left: 5rem;
    padding-right: 5rem;
  }
  
  @media (min-width: 1400px) and (max-width: 1599px) {
    padding-left: 4rem;
    padding-right: 4rem;
  }
  
  @media (max-width: 1200px) {
    padding-left: 2.5rem;
    padding-right: 2.5rem;
  }
  
  @media (max-width: 800px) {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

/* 5. ä¼˜åŒ–æ•´ä½“å¸ƒå±€é—´è·å’Œæ’ç‰ˆ */
.content {
  /* æ®µè½é—´è· - ä½¿ç”¨æ›´ä¸“ä¸šçš„æ’ç‰ˆæ¯”ä¾‹ */
  p {
    margin-bottom: 1.5em;
    line-height: 1.8;
    word-spacing: 0.05em;
  }
  
  /* æ ‡é¢˜é—´è· - å»ºç«‹æ¸…æ™°çš„è§†è§‰å±‚æ¬¡ */
  h1 {
    margin-top: 2.5em;
    margin-bottom: 1em;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    scroll-margin-top: 90px; /* ä¸ºå›ºå®šå¯¼èˆªæ ç•™å‡ºç©ºé—´ */
  }
  
  h2 {
    margin-top: 2.2em;
    margin-bottom: 0.9em;
    font-weight: 650;
    line-height: 1.3;
    letter-spacing: -0.01em;
    scroll-margin-top: 90px;
  }
  
  h3 {
    margin-top: 2em;
    margin-bottom: 0.8em;
    font-weight: 600;
    line-height: 1.35;
    scroll-margin-top: 90px;
  }
  
  h4, h5, h6 {
    margin-top: 1.8em;
    margin-bottom: 0.7em;
    font-weight: 600;
    line-height: 1.4;
    scroll-margin-top: 90px;
  }
  
  /* ç¬¬ä¸€ä¸ªå…ƒç´ ä¸éœ€è¦ä¸Šè¾¹è· */
  > *:first-child {
    margin-top: 0;
  }
  
  /* åˆ—è¡¨é—´è·å’Œæ ·å¼ */
  ul, ol {
    margin-bottom: 1.5em;
    padding-left: 1.75em;
    line-height: 1.8;
    
    li {
      margin-bottom: 0.5em;
      
      p {
        margin-bottom: 0.75em;
      }
    }
  }
  
  /* åµŒå¥—åˆ—è¡¨ */
  ul ul, ol ol, ul ol, ol ul {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
  
  /* ä»£ç å—é—´è·å’Œæ ·å¼ */
  pre {
    margin: 2em 0;
    border-radius: var(--radius-l);
    overflow-x: auto;
    padding: 1.5em;
    background-color: color-mix(in srgb, var(--background-secondary) 60%, transparent);
    border: 1px solid color-mix(in srgb, var(--text-muted) 10%, transparent);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    position: relative;
    
    /* ä»£ç å—æ»šåŠ¨æ¡ */
    &::-webkit-scrollbar {
      height: 8px;
    }
    
    &::-webkit-scrollbar-track {
      background: transparent;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: color-mix(in srgb, var(--text-muted) 30%, transparent);
      border-radius: var(--radius-s);
      
      &:hover {
        background-color: color-mix(in srgb, var(--text-muted) 50%, transparent);
      }
    }
  }
  
  /* å¼•ç”¨å—é—´è·å’Œæ ·å¼ - è¦†ç›– style.scss ä¸­çš„æ ·å¼ */
  blockquote {
    margin: 2em 0 !important;
    padding: 1.25em 1.75em !important;
    border-radius: var(--radius-m) !important;
    border-left: 4px solid var(--text-accent) !important;
    background-color: color-mix(in srgb, var(--background-secondary) 40%, transparent) !important;
    font-style: italic;
    position: relative;
    border-right: none !important;
    border-top: none !important;
    border-bottom: none !important;
    quotes: none !important;
    
    &::before {
      display: none !important;
    }
    
    p {
      margin-bottom: 0.75em;
      display: block !important;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

/* 6. ä¼˜åŒ–è¡¨æ ¼æ˜¾ç¤º */
.content table {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  display: block;
  margin: 2em 0;
  border-collapse: separate;
  border-spacing: 0;
  border-radius: var(--radius-m);
  overflow: hidden;
  box-shadow: var(--shadow-base);
  
  /* è¡¨æ ¼å®¹å™¨ */
  &::before {
    content: '';
    display: block;
    width: 100%;
  }
  
  th, td {
    padding: 0.875em 1.25em;
    border-bottom: 1px solid color-mix(in srgb, var(--text-muted) 15%, transparent);
    text-align: left;
    transition: background-color var(--transition-base);
  }
  
  th {
    background-color: color-mix(in srgb, var(--background-secondary) 60%, transparent);
    font-weight: 600;
    color: var(--text-normal);
    border-bottom: 2px solid color-mix(in srgb, var(--text-muted) 25%, transparent);
    position: sticky;
    top: 0;
    z-index: 1;
  }
  
  tbody tr {
    &:hover {
      background-color: color-mix(in srgb, var(--background-secondary) 30%, transparent);
    }
    
    &:last-child td {
      border-bottom: none;
    }
  }
  
  /* æ–‘é©¬çº¹ï¼ˆå¯é€‰ï¼Œæ›´ä¸“ä¸šï¼‰ */
  tbody tr:nth-child(even) {
    background-color: color-mix(in srgb, var(--background-secondary) 20%, transparent);
    
    &:hover {
      background-color: color-mix(in srgb, var(--background-secondary) 40%, transparent);
    }
  }
}

/* 7. ä¼˜åŒ–ä¾§è¾¹æ é—´è· */
@media (min-width: 1400px) {
  .sidebar {
    left: calc(50vw + calc(var(--dg-content-max-width) / 2) + 60px) !important;
  }
  
  .filetree-wrapper {
    width: calc(50vw - calc(var(--dg-content-max-width) / 2) - 60px) !important;
  }
}

/* 8. ä¼˜åŒ–æ–‡ä»¶æ ‘æ ·å¼ */
.filetree-sidebar {
  /* æ›´æŸ”å’Œçš„èƒŒæ™¯ */
  background-color: color-mix(in srgb, var(--background-secondary) 80%, transparent);
  
  /* ä¼˜åŒ–æ»šåŠ¨æ¡ */
  .folder {
    scrollbar-width: thin;
    scrollbar-color: color-mix(in srgb, var(--text-muted) 30%, transparent) transparent;
    
    &::-webkit-scrollbar {
      width: 6px;
    }
    
    &::-webkit-scrollbar-track {
      background: transparent;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: color-mix(in srgb, var(--text-muted) 30%, transparent);
      border-radius: var(--radius-xs);
      
      &:hover {
        background-color: color-mix(in srgb, var(--text-muted) 50%, transparent);
      }
    }
  }
}

/* 9. ä¼˜åŒ–é“¾æ¥æ ·å¼ */
.content a {
  text-decoration: none;
  color: var(--link-color, var(--text-accent));
  border-bottom: 1.5px solid color-mix(in srgb, var(--link-color, var(--text-accent)) 25%, transparent);
  transition: all var(--transition-base);
  font-weight: 500;
  position: relative;
  
  &:hover {
    border-bottom-color: var(--link-color, var(--text-accent));
    color: var(--link-color-hover, var(--text-accent-hover));
  }
  
  &:focus-visible {
    outline: 2px solid var(--text-accent);
    outline-offset: 2px;
    border-radius: var(--radius-xs);
  }
  
  /* å†…éƒ¨é“¾æ¥ç‰¹æ®Šæ ·å¼ */
  &.internal-link {
    border-bottom-style: dashed;
  }
  
  /* å¤–éƒ¨é“¾æ¥ */
  &.external-link {
    &::after {
      content: 'â†—';
      margin-left: 0.25em;
      font-size: 0.85em;
      opacity: 0.6;
      transition: opacity var(--transition-base), transform var(--transition-base);
      display: inline-block;
    }
    
    &:hover::after {
      opacity: 1;
      transform: translate(2px, -2px);
    }
  }
}

/* 10. ä¼˜åŒ–ä»£ç å—æ ·å¼ */
.content pre {
  code {
    display: block;
    padding: 0;
    overflow-x: auto;
    font-size: 0.9em;
    line-height: 1.7;
    font-family: "JetBrainsMonoNerd", monospace;
    color: var(--text-normal);
    background: transparent;
    border: none;
  }
}

/* å†…è”ä»£ç æ ·å¼ - è¦†ç›– style.scss ä¸­çš„ç¡¬ç¼–ç æ ·å¼ */
.content code:not(pre code),
.content p > code,
.markdown-preview-view code:not(pre code),
.markdown-rendered code:not(pre code) {
  padding: 0.25em 0.5em !important;
  border-radius: var(--radius-s) !important;
  background-color: color-mix(in srgb, var(--background-secondary) 60%, transparent) !important;
  font-size: 0.875em !important;
  font-family: "JetBrainsMonoNerd", monospace !important;
  color: var(--text-accent) !important;
  border: 1px solid color-mix(in srgb, var(--text-muted) 15%, transparent) !important;
  font-weight: 500 !important;
  transition: all var(--transition-base) !important;
  
  &:hover {
    background-color: color-mix(in srgb, var(--background-secondary) 70%, transparent) !important;
    border-color: color-mix(in srgb, var(--text-muted) 25%, transparent) !important;
  }
}

/* 11. ä¼˜åŒ–å“åº”å¼å¸ƒå±€ */
@media (max-width: 1400px) {
  .content {
    margin-left: 270px;
    max-width: calc(100vw - 300px) !important;
  }
}

@media (max-width: 1000px) {
  .content {
    margin-left: auto;
    margin-right: auto;
    max-width: var(--dg-content-max-width) !important;
  }
}

/* 12. ä¼˜åŒ–åˆ†éš”çº¿ */
.content hr {
  margin: 3em 0;
  border: none;
  border-top: 1px solid color-mix(in srgb, var(--text-muted) 20%, transparent);
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: -1px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 1px;
    background: var(--text-accent);
    opacity: 0.4;
  }
}

/* 13. ä¼˜åŒ–æ–‡ä»¶æ ‘é“¾æ¥æ ·å¼ */
.notelink {
  border-radius: var(--radius-s);
  margin: 2px 0;
  transition: all var(--transition-base);
  
  &:hover {
    background-color: color-mix(in srgb, var(--text-accent) 8%, transparent) !important;
    transform: translateX(2px);
  }
  
  &.active-note {
    background-color: color-mix(in srgb, var(--text-accent) 12%, transparent) !important;
    border-left-color: var(--text-accent) !important;
    border-left-width: 3px !important;
    
    .filename {
      color: var(--text-normal) !important;
      font-weight: 600;
    }
  }
  
  a {
    border-bottom: none;
    transition: color var(--transition-base);
    
    &:hover {
      color: var(--text-accent);
    }
  }
}

/* 14. ä¼˜åŒ–æ–‡ä»¶å¤¹æ ·å¼ */
.foldername-wrapper {
  transition: all var(--transition-base);
  border-radius: var(--radius-s);
  padding: 4px 8px;
  margin: 4px 0;
  
  &:hover {
    background-color: color-mix(in srgb, var(--text-muted) 8%, transparent);
    
    i, svg {
      opacity: 0.8;
    }
  }
}

/* 15. ä¼˜åŒ–ä¾§è¾¹æ ç»„ä»¶ */
.sidebar {
  /* å¹³æ»‘è¿‡æ¸¡ */
  transition: opacity var(--transition-slow);
}

.sidebar-container {
  /* ä¼˜åŒ–é—´è· */
  gap: 2rem;
}

/* 16. ä¼˜åŒ– TOC æ ·å¼ */
.toc {
  ul {
    border-left: 2px solid color-mix(in srgb, var(--text-muted) 15%, transparent);
    padding-left: 1em;
    
    li {
        a {
          border-bottom: none;
          color: var(--text-muted);
          transition: color var(--transition-base), transform var(--transition-base);
        display: inline-block;
        
        &:hover {
          color: var(--text-normal);
          transform: translateX(4px);
        }
      }
    }
  }
}

/* 17. ä¼˜åŒ–å¼•ç”¨å’Œ Callout - ç»Ÿä¸€åœ†è§’ */
.content .callout {
  border-radius: var(--radius-m) !important;
  margin: 2em 0;
  padding: 1.25em 1.5em;
  border-left-width: 4px;
  transition: box-shadow var(--transition-slow), transform var(--transition-base);
  
  &:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }
}

/* 18. ä¼˜åŒ–åˆ—è¡¨æ ‡è®° */
.content ul {
  list-style-type: none;
  position: relative;
  
  li::before {
    content: 'â€¢';
    color: var(--text-accent);
    font-weight: bold;
    position: absolute;
    left: -1.25em;
    opacity: 0.6;
  }
}

.content ol {
  counter-reset: list-counter;
  
  li {
    counter-increment: list-counter;
    position: relative;
    
    &::before {
      content: counter(list-counter) '.';
      color: var(--text-accent);
      font-weight: 600;
      position: absolute;
      left: -1.75em;
      opacity: 0.7;
    }
  }
}

/* 19. ä¼˜åŒ–é”®ç›˜å¯¼èˆªå’Œå¯è®¿é—®æ€§ */
*:focus-visible {
  outline: 2px solid var(--text-accent);
  outline-offset: 2px;
  border-radius: var(--radius-s);
}

/* 20. ä¼˜åŒ–åŠ è½½å’Œè¿‡æ¸¡æ•ˆæœ */
.content {
  animation: fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 21. ä¼˜åŒ–æ‰“å°æ ·å¼ */
@media print {
  .content {
    max-width: 100%;
    padding: 0;
    
    img {
      box-shadow: none;
      page-break-inside: avoid;
    }
    
    pre {
      page-break-inside: avoid;
    }
  }
  
  .filetree-wrapper,
  .sidebar {
    display: none;
  }
}

/* 22. ä¼˜åŒ–æœç´¢æ¡†æ ·å¼ */
.search-box {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: var(--shadow-lg), 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid color-mix(in srgb, var(--text-muted) 10%, transparent);
}

.search-box input {
  transition: all var(--transition-base);
  
  &:focus {
    border-color: var(--text-accent);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--text-accent) 15%, transparent);
  }
}

/* 23. ä¼˜åŒ–æŒ‰é’®æ ·å¼ */
button,
.search-button {
  transition: all var(--transition-base);
  border-radius: var(--radius-m);
  
  &:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &:focus-visible {
    outline: 2px solid var(--text-accent);
    outline-offset: 2px;
    border-radius: var(--radius-m);
  }
}

/* 24. ä¼˜åŒ–å¯¼èˆªæ  */
.navbar {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  background-color: color-mix(in srgb, var(--background-primary) 95%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--text-muted) 10%, transparent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* 25. ä¼˜åŒ–æ–‡ä»¶æ ‘æ ‡é¢˜ */
.filetree-sidebar h1 {
  font-weight: 700;
  letter-spacing: -0.02em;
  margin-bottom: 1em;
  padding-bottom: 0.75em;
  border-bottom: 2px solid color-mix(in srgb, var(--text-muted) 15%, transparent);
}

/* 26. ä¼˜åŒ–å›¾è¡¨ç»„ä»¶ */
.graph {
  border-radius: var(--radius-l);
  overflow: hidden;
  box-shadow: var(--shadow-md);
  transition: box-shadow var(--transition-slow);
  
  &:hover {
    box-shadow: var(--shadow-lg);
  }
}

/* 27. ä¼˜åŒ–è¿”å›é“¾æ¥ */
.backlinks {
  .backlink {
    transition: all var(--transition-base);
  border-radius: var(--radius-m);
  padding: 0.75em;
  margin-bottom: 0.5em;
  transition: all var(--transition-base);
  
  &:hover {
    background-color: color-mix(in srgb, var(--background-secondary) 40%, transparent);
    transform: translateX(4px);
  }
    
    a {
      border-bottom: none;
    }
  }
}

/* 28. ä¼˜åŒ–æ ‡ç­¾æ ·å¼ */
.content .tag {
  display: inline-block;
  padding: 0.25em 0.75em;
  border-radius: 1em;
  background-color: color-mix(in srgb, var(--text-accent) 15%, transparent);
  color: var(--text-accent);
  font-size: 0.85em;
  font-weight: 500;
  transition: all var(--transition-base);
  border: 1px solid color-mix(in srgb, var(--text-accent) 25%, transparent);
  
  &:hover {
    background-color: color-mix(in srgb, var(--text-accent) 25%, transparent);
    transform: translateY(-1px);
    box-shadow: var(--shadow-base);
  }
}

/* 29. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ */
@media (max-width: 800px) {
  .content {
    /* ç§»åŠ¨ç«¯å‡å°‘é—´è· */
    h1 {
      margin-top: 1.5em;
      font-size: 1.75em;
    }
    
    h2 {
      margin-top: 1.3em;
      font-size: 1.5em;
    }
    
    h3 {
      margin-top: 1.2em;
      font-size: 1.25em;
    }
    
    p {
      margin-bottom: 1.2em;
    }
    
    /* ç§»åŠ¨ç«¯å›¾ç‰‡ */
    img {
      margin: 1.5em auto;
      border-radius: var(--radius-m);
    }
    
    /* ç§»åŠ¨ç«¯ä»£ç å— */
    pre {
      padding: 1em;
      font-size: 0.85em;
      margin: 1.5em 0;
    }
    
    /* ç§»åŠ¨ç«¯è¡¨æ ¼ */
    table {
      font-size: 0.9em;
      
      th, td {
        padding: 0.5em 0.75em;
      }
    }
  }
  
  /* ç§»åŠ¨ç«¯æ–‡ä»¶æ ‘ */
  .filetree-wrapper {
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  }
}

/* 30. ä¼˜åŒ–é€‰æ‹©æ–‡æœ¬æ ·å¼ */
::selection {
  background-color: color-mix(in srgb, var(--text-accent) 25%, transparent);
  color: var(--text-normal);
}

::-moz-selection {
  background-color: color-mix(in srgb, var(--text-accent) 25%, transparent);
  color: var(--text-normal);
}

/* 31. ä¼˜åŒ–æ»šåŠ¨æ¡ï¼ˆå…¨å±€ï¼‰ */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--background-primary);
}

::-webkit-scrollbar-thumb {
  background-color: color-mix(in srgb, var(--text-muted) 30%, transparent);
  border-radius: var(--radius-s);
  border: 2px solid var(--background-primary);
  
  &:hover {
    background-color: color-mix(in srgb, var(--text-muted) 50%, transparent);
  }
}

/* 32. ä¼˜åŒ–åŠ è½½çŠ¶æ€ */
.content.loading {
  opacity: 0.6;
  pointer-events: none;
}

/* 33. ä¼˜åŒ–ç©ºçŠ¶æ€ */
.empty-state {
  text-align: center;
  padding: 3em 2em;
  color: var(--text-muted);
  
  &::before {
    content: 'ğŸ“';
    font-size: 3em;
    display: block;
    margin-bottom: 1em;
    opacity: 0.5;
  }
}

/* 34. ä¼˜åŒ–å…ƒæ•°æ®å’Œæ—¶é—´æˆ³ */
.content .header-meta,
.content .timestamps {
  font-size: 0.9em;
  color: var(--text-muted);
  margin-bottom: 1.5em;
  padding-bottom: 1em;
  border-bottom: 1px solid color-mix(in srgb, var(--text-muted) 15%, transparent);
}

/* 35. ä¼˜åŒ–æ•°å­¦å…¬å¼æ˜¾ç¤º */
.content .math {
  overflow-x: auto;
  padding: 0.5em 0;
  
  &::-webkit-scrollbar {
    height: 6px;
  }
}

/* 36. ä¼˜åŒ–ä»»åŠ¡åˆ—è¡¨ */
.content ul.task-list {
  list-style: none;
  padding-left: 0;
  
  li {
    padding-left: 1.5em;
    position: relative;
    
    input[type="checkbox"] {
      position: absolute;
      left: 0;
      top: 0.3em;
      width: 1.2em;
      height: 1.2em;
      cursor: pointer;
      accent-color: var(--text-accent);
    }
    
    &::before {
      display: none;
    }
  }
}

/* 37. ä¼˜åŒ–å†…è”ä»£ç åœ¨é“¾æ¥ä¸­ */
.content a code {
  background-color: color-mix(in srgb, var(--text-accent) 20%, transparent);
  color: var(--text-accent);
  border-color: color-mix(in srgb, var(--text-accent) 30%, transparent);
}

/* 38. ä¼˜åŒ–å¼ºè°ƒæ–‡æœ¬ */
.content strong {
  font-weight: 650;
  color: var(--text-normal);
}

.content em {
  font-style: italic;
  color: var(--text-normal);
}

/* 39. ä¼˜åŒ–åˆ é™¤çº¿å’Œæ ‡è®° */
.content del {
  text-decoration: line-through;
  opacity: 0.7;
}

.content mark {
  background-color: color-mix(in srgb, var(--text-accent) 20%, transparent);
  color: var(--text-normal);
  padding: 0.1em 0.3em;
  border-radius: var(--radius-xs);
}

/* 40. ä¼˜åŒ–å“åº”å¼å›¾ç‰‡å®¹å™¨ */
.content .image-container {
  position: relative;
  margin: 2em auto;
  max-width: 100%;
  
  img {
    width: 100%;
    height: auto;
  }
}

/* 41. ä¼˜åŒ–æ·±è‰²æ¨¡å¼ä¸‹çš„å¯¹æ¯”åº¦ */
@media (prefers-color-scheme: dark) {
  .content {
    /* ç¡®ä¿è¶³å¤Ÿçš„å¯¹æ¯”åº¦ */
    --min-contrast: 4.5;
  }
}

/* 42. ä¼˜åŒ–å‡å°‘åŠ¨ç”»åå¥½ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* 43. ä¼˜åŒ–é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
@media (prefers-contrast: high) {
  .content {
    a {
      border-bottom-width: 2px;
      font-weight: 600;
    }
    
    code {
      border-width: 2px;
    }
    
    table th,
    table td {
      border-width: 2px;
    }
  }
}

